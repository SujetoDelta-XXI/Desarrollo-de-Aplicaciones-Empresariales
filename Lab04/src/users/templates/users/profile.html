{% extends 'base.html' %}

{% block title %}Perfil de Usuario{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>Perfil de {{ user.username }}</h2>
  {% if user.profile_image %}
    <img src="{{ user.profile_image.url }}" alt="Imagen de perfil" class="img-thumbnail" style="max-width: 150px;">
  {% endif %}
  <p><strong>Bio:</strong> {{ user.bio }}</p>
  
  <h3>Categorías Favoritas</h3>
  <ul>
    {% for category in user.favorite_categories.all %}
      <li>{{ category.name }}</li>
    {% empty %}
      <li>No has seleccionado categorías favoritas.</li>
    {% endfor %}
  </ul>
  
  <h3>Listas de Lectura</h3>
  <ul>
    {% for rl in reading_lists %}
      <li><a href="{% url 'reading_list_detail' rl.pk %}">{{ rl.name }}</a></li>
    {% empty %}
      <li>No tienes listas de lectura.</li>
    {% endfor %}
  </ul>
  <a href="{% url 'reading_list_create' %}" class="btn btn-primary">Crear nueva lista de lectura</a>
  
  <h3>Reseñas</h3>
  <ul>
    {% for review in reviews %}
      <li>
        <a href="{% url 'review_detail' review.pk %}">
          Reseña de <strong>{{ review.book.title }}</strong> - {{ review.rating }}/5
        </a>
      </li>
    {% empty %}
      <li>No has escrito reseñas.</li>
    {% endfor %}
  </ul>
  <a href="{% url 'review_create' %}" class="btn btn-primary">Escribir una nueva reseña</a>
</div>
{% endblock %}